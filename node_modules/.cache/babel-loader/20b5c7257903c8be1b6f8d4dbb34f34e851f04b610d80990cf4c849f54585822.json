{"ast":null,"code":"import { ref, onMounted, onBeforeUnmount } from 'vue';\nimport { useCartStore } from '@/stores/cart';\nimport CartSummary from '@/components/CartSummary.vue';\nexport default {\n  __name: 'FoodView',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const cart = useCartStore();\n    const cartCol = ref(null);\n    function addToCart(item) {\n      cart.addItem({\n        ...item,\n        category: 'food'\n      });\n    }\n    const categories = [{\n      name: 'plats',\n      label: 'Plat',\n      image: '/images/categorie_plat.jpg',\n      items: [{\n        name: 'Thi√©bou dieune',\n        composant: 'riz, poisson, l√©gumes',\n        price: 16,\n        image: '/images/tieboudiene.jpg'\n      }, {\n        name: 'Thi√©bou guinaar',\n        composant: 'riz, poulet, l√©gumineuses',\n        price: 16,\n        image: '/images/poulet.jpg'\n      }, {\n        name: 'Domoda yapp',\n        composant: 'riz, viande',\n        price: 16,\n        image: '/images/domoda_yapp.jpg'\n      }, {\n        name: 'Yassa guinaar',\n        composant: 'riz, poulet',\n        price: 16,\n        image: '/images/yassa.jpg'\n      }, {\n        name: 'Salade compos√©e',\n        composant: 'salade, viande, tomate',\n        price: 13,\n        image: '/images/salade.jpg'\n      }, {\n        name: 'Couscous guinaar',\n        composant: 'couscous, poulet',\n        price: 16,\n        image: '/images/couscous-de-poulet-au-raisins.jpg'\n      }]\n    }, {\n      name: 'desserts',\n      label: 'Dessert',\n      image: '/images/categorie_dessert.jpg',\n      items: [{\n        name: 'Lakh sow',\n        composant: 'lait caill√©, bouillie de mil',\n        price: 10,\n        image: '/images/laakh.jpg'\n      }, {\n        name: 'Lakh neuteri',\n        composant: 'ngalakh, bouillie de mil',\n        price: 10,\n        image: '/images/neuteri.jpg'\n      }, {\n        name: 'Thiakry',\n        composant: 'lait caill√©, bouillie de mil, raisin',\n        price: 10,\n        image: '/images/thiakry.jpg'\n      }]\n    }, {\n      name: 'boissons',\n      label: 'Jus',\n      image: '/images/jus_naturel.jpg',\n      items: [{\n        name: 'Bissap',\n        price: 6,\n        image: '/images/jus_bissap.jpg'\n      }, {\n        name: 'Raisin',\n        price: 6,\n        image: '/images/raisin.jpg'\n      }, {\n        name: 'Fraise',\n        price: 6,\n        image: '/images/fraise.jpg'\n      }, {\n        name: 'Bouye',\n        price: 6,\n        image: '/images/bouye.jpg'\n      }, {\n        name: 'Mangue',\n        price: 6,\n        image: '/images/jus_de_mangue.jpg'\n      }, {\n        name: 'Orange',\n        price: 6,\n        image: '/images/jus_orange.jpg'\n      }, {\n        name: 'Citron',\n        price: 6,\n        image: '/images/jus_de_citron.jpg'\n      }, {\n        name: 'Pomme',\n        price: 6,\n        image: '/images/jus_de_pomme.jpg'\n      }, {\n        name: 'Ananas',\n        price: 6,\n        image: '/images/jus_ananas.jpg'\n      }]\n    }];\n    const selectedCategory = ref(null);\n    const leftCol = ref(null);\n    const rightCol = ref(null);\n    const columnsContainer = ref(null);\n    function selectCategory(category) {\n      selectedCategory.value = category;\n    }\n    function onWheel(e) {\n      if (Math.abs(e.deltaY) < Math.abs(e.deltaX)) return;\n      const x = e.clientX;\n      const y = e.clientY;\n      const el = document.elementFromPoint(x, y);\n      if (!el) return;\n      if (leftCol.value && leftCol.value.contains(el)) {\n        leftCol.value.scrollTop += e.deltaY;\n        e.preventDefault();\n      } else if (rightCol.value && rightCol.value.contains(el)) {\n        rightCol.value.scrollTop += e.deltaY;\n        e.preventDefault();\n      }\n    }\n    onMounted(() => {\n      if (columnsContainer.value) {\n        columnsContainer.value.addEventListener('wheel', onWheel, {\n          passive: false\n        });\n      }\n    });\n    onBeforeUnmount(() => {\n      if (columnsContainer.value) {\n        columnsContainer.value.removeEventListener('wheel', onWheel);\n      }\n    });\n    const __returned__ = {\n      cart,\n      cartCol,\n      addToCart,\n      categories,\n      selectedCategory,\n      leftCol,\n      rightCol,\n      columnsContainer,\n      selectCategory,\n      onWheel,\n      ref,\n      onMounted,\n      onBeforeUnmount,\n      get useCartStore() {\n        return useCartStore;\n      },\n      CartSummary\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","onMounted","onBeforeUnmount","useCartStore","CartSummary","cart","cartCol","addToCart","item","addItem","category","categories","name","label","image","items","composant","price","selectedCategory","leftCol","rightCol","columnsContainer","selectCategory","value","onWheel","e","Math","abs","deltaY","deltaX","x","clientX","y","clientY","el","document","elementFromPoint","contains","scrollTop","preventDefault","addEventListener","passive","removeEventListener"],"sources":["/Users/macbook/IdeaProjects/borne-commande-app/frontend/mon_projet_perso/src/views/FoodView.vue"],"sourcesContent":["<template>\n  <div class=\"food-page\">\n    <!-- TITRE -->\n    <h1 class=\"title\">\n      {{ selectedCategory?.label === 'Jus' ? 'ü•§ Choisissez votre Jus' : `üçΩÔ∏è Choisissez votre ${selectedCategory?.label?.toLowerCase() || 'cat√©gorie'}` }}\n    </h1>\n\n    <!-- CONTENEUR PRINCIPAL -->\n    <div ref=\"columnsContainer\" class=\"layout\">\n\n      <!-- COLONNE CATEGORIES -->\n      <aside ref=\"leftCol\" class=\"categories-col\">\n        <div class=\"categories-list\">\n          <div\n            v-for=\"category in categories\"\n            :key=\"category.name\"\n            @click=\"selectCategory(category)\"\n            :class=\"['category-item', { 'selected': selectedCategory?.name === category.name }]\"\n          >\n            <img :src=\"category.image\" :alt=\"category.label\"/>\n            <p>{{ category.label }}</p>\n          </div>\n        </div>\n      </aside>\n\n      <!-- COLONNE PRODUITS -->\n      <main ref=\"rightCol\" class=\"products-col\">\n        <div v-if=\"selectedCategory\">\n          <div class=\"grid\">\n            <article v-for=\"item in selectedCategory.items\" :key=\"item.name\" class=\"product-card\">\n              <img @click=\"addToCart(item)\" :src=\"item.image\" :alt=\"item.name\"/>\n              <p class=\"product-name\">\n                {{ item.name }} : {{ item.price.toFixed(2) }} ‚Ç¨\n                <span v-if=\"item.composant\">({{ item.composant }})</span>\n              </p>\n            </article>\n          </div>\n        </div>\n\n        <div v-else class=\"no-selection\">\n          üß≠ Cliquez sur une cat√©gorie √† gauche pour commander\n        </div>\n      </main>\n\n      <!-- PANIER FIXE √Ä DROITE -->\n      <aside class=\"cart-right\">\n        <CartSummary />\n      </aside>\n    </div>\n\n    <!-- NAVIGATION RETOUR -->\n    <div class=\"nav-back\">\n      <router-link to=\"/home\">Retour</router-link>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted, onBeforeUnmount } from 'vue'\nimport { useCartStore } from '@/stores/cart'\nimport CartSummary from '@/components/CartSummary.vue'\n\nconst cart = useCartStore()\nconst cartCol = ref(null)\n\n\nfunction addToCart(item) {\n  cart.addItem({ ...item, category: 'food' })\n}\n\nconst categories = [\n  {\n    name: 'plats',\n    label: 'Plat',\n    image: '/images/categorie_plat.jpg',\n    items: [\n      { name: 'Thi√©bou dieune', composant: 'riz, poisson, l√©gumes', price: 16, image: '/images/tieboudiene.jpg' },\n      { name: 'Thi√©bou guinaar', composant: 'riz, poulet, l√©gumineuses', price: 16, image: '/images/poulet.jpg' },\n      { name: 'Domoda yapp', composant: 'riz, viande', price: 16, image: '/images/domoda_yapp.jpg' },\n      { name: 'Yassa guinaar', composant: 'riz, poulet', price: 16, image: '/images/yassa.jpg' },\n      { name: 'Salade compos√©e', composant: 'salade, viande, tomate', price: 13, image: '/images/salade.jpg' },\n      { name: 'Couscous guinaar', composant: 'couscous, poulet', price: 16, image: '/images/couscous-de-poulet-au-raisins.jpg' }\n    ]\n  },\n  {\n    name: 'desserts',\n    label: 'Dessert',\n    image: '/images/categorie_dessert.jpg',\n    items: [\n      { name: 'Lakh sow', composant: 'lait caill√©, bouillie de mil', price: 10, image: '/images/laakh.jpg' },\n      { name: 'Lakh neuteri', composant: 'ngalakh, bouillie de mil', price: 10, image: '/images/neuteri.jpg' },\n      { name: 'Thiakry', composant: 'lait caill√©, bouillie de mil, raisin', price: 10, image: '/images/thiakry.jpg' }\n    ]\n  },\n  {\n    name: 'boissons',\n    label: 'Jus',\n    image: '/images/jus_naturel.jpg',\n    items: [\n      { name: 'Bissap', price: 6, image: '/images/jus_bissap.jpg' },\n      { name: 'Raisin', price: 6, image: '/images/raisin.jpg' },\n      { name: 'Fraise', price: 6, image: '/images/fraise.jpg' },\n      { name: 'Bouye', price: 6, image: '/images/bouye.jpg' },\n      { name: 'Mangue', price: 6, image: '/images/jus_de_mangue.jpg' },\n      { name: 'Orange', price: 6, image: '/images/jus_orange.jpg' },\n      { name: 'Citron', price: 6, image: '/images/jus_de_citron.jpg' },\n      { name: 'Pomme', price: 6, image: '/images/jus_de_pomme.jpg' },\n      { name: 'Ananas', price: 6, image: '/images/jus_ananas.jpg' },\n    ]\n  }\n]\n\nconst selectedCategory = ref(null)\nconst leftCol = ref(null)\nconst rightCol = ref(null)\nconst columnsContainer = ref(null)\n\nfunction selectCategory(category) {\n  selectedCategory.value = category\n}\n\nfunction onWheel(e) {\n  if (Math.abs(e.deltaY) < Math.abs(e.deltaX)) return\n  const x = e.clientX\n  const y = e.clientY\n  const el = document.elementFromPoint(x, y)\n  if (!el) return\n  if (leftCol.value && leftCol.value.contains(el)) {\n    leftCol.value.scrollTop += e.deltaY\n    e.preventDefault()\n  } else if (rightCol.value && rightCol.value.contains(el)) {\n    rightCol.value.scrollTop += e.deltaY\n    e.preventDefault()\n  }\n}\n\nonMounted(() => {\n  if (columnsContainer.value) {\n    columnsContainer.value.addEventListener('wheel', onWheel, { passive: false })\n  }\n})\n\nonBeforeUnmount(() => {\n  if (columnsContainer.value) {\n    columnsContainer.value.removeEventListener('wheel', onWheel)\n  }\n})\n</script>\n\n<style scoped>\n.food-page {\n  padding: 1rem;\n  background-image: url('/public/images/fond.jpg');\n  min-height: 100vh;\n  font-family: 'Segoe UI', sans-serif;\n}\n\n.title {\n  text-align: center;\n  font-size: 2rem;\n  margin-bottom: 1rem;\n}\n\n.layout {\n  display: flex;\n  gap: 1.5rem;\n  max-width: 1400px;\n  margin: 0 auto;\n  min-height: calc(100vh - 6rem);\n  position: relative;\n}\n\n/* COLONNE CATEGORIES */\n.categories-col {\n  width: 260px;\n  overflow-y: auto;\n  border-right: 1px solid #ccc;\n}\n\n.categories-list {\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n  padding: 1rem 0;\n}\n\n.category-item {\n  cursor: pointer;\n  text-align: center;\n  border-radius: 1.5rem;\n  transition: transform 0.2s, box-shadow 0.2s;\n}\n\n.category-item.selected {\n  border: 3px solid #22c55e;\n  transform: scale(1.05);\n}\n\n.category-item img {\n  width: 100%;\n  border-radius: 1.5rem;\n  object-fit: cover;\n}\n\n.category-item p {\n  margin-top: 0.5rem;\n  font-weight: bold;\n  background: white;\n  border-radius: 0.5rem;\n}\n\n/* COLONNE PRODUITS */\n.products-col {\n  flex: 1;\n  padding: 0 1rem;\n  overflow-y: auto;\n}\n\n.grid {\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  gap: 1rem;\n}\n\n.product-card {\n  background: white;\n  border-radius: 1.5rem;\n  box-shadow: 0 4px 12px rgba(0,0,0,0.1);\n  padding: 0.5rem;\n  text-align: center;\n}\n\n.product-card img {\n  width: 100%;\n  border-radius: 1rem;\n  object-fit: cover;\n  cursor: pointer;\n}\n\n.product-name {\n  margin-top: 0.5rem;\n  font-weight: bold;\n}\n\n/* PANIER FIXE √Ä DROITE */\n.cart-right {\n  position: sticky;\n  top: 1rem;\n  width: 280px;\n  flex-shrink: 0;\n  height: fit-content;\n}\n\n/* NAVIGATION RETOUR */\n.nav-back {\n  margin-top: 1.5rem;\n  display: flex;\n  justify-content: flex-end;\n}\n\n.nav-back a {\n  background-color: rgb(226, 120, 58);\n  color: white;\n  border-radius: 100px;\n  padding: 0.5rem 1rem;\n  font-size: 1.2rem;\n  text-decoration: none;\n  transition: background 0.2s;\n}\n\n.nav-back a:hover {\n  background-color: rgb(200, 100, 20);\n}\n\n/* === MOBILE === */\n@media (max-width: 1024px) {\n  .layout {\n    flex-direction: column;\n  }\n\n  .categories-col {\n    width: 100%;\n    border-right: none;\n    display: flex;\n    overflow-x: auto;\n    padding: 0.5rem 0;\n  }\n\n  .category-item {\n    min-width: 140px;\n    margin-right: 0.5rem;\n  }\n\n  .grid {\n    grid-template-columns: 1fr !important;\n  }\n\n  .cart-right {\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    background: white;\n    box-shadow: 0 -2px 10px rgba(0,0,0,0.15);\n    padding: 0.5rem;\n    z-index: 1000;\n  }\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}