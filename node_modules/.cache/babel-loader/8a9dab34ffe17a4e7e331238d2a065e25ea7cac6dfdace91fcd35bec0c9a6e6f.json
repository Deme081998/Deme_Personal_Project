{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"confirmation-page\"\n};\nconst _hoisted_2 = {\n  class: \"summary\"\n};\nconst _hoisted_3 = {\n  class: \"countdown\"\n};\nconst _hoisted_4 = {\n  key: 0\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[6] || (_cache[6] = _createElementVNode(\"h1\", null, \"Commande confirmÃ©e !\", -1 /* CACHED */)), _createElementVNode(\"p\", null, [_cache[0] || (_cache[0] = _createTextVNode(\" Merci pour votre commande \")), _createElementVNode(\"strong\", null, \"nÂ°\" + _toDisplayString($setup.orderId), 1 /* TEXT */), _cache[1] || (_cache[1] = _createTextVNode(\" ðŸŽ‰ \"))]), _createElementVNode(\"div\", _hoisted_2, [_cache[2] || (_cache[2] = _createElementVNode(\"h2\", null, \"RÃ©sumÃ© :\", -1 /* CACHED */)), _createElementVNode(\"ul\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.orderedItems, (item, i) => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: i\n    }, [_createElementVNode(\"strong\", null, _toDisplayString(item.name), 1 /* TEXT */), _createTextVNode(\" â€“ \" + _toDisplayString(item.price.toFixed(2)) + \" â‚¬ \", 1 /* TEXT */)]);\n  }), 128 /* KEYED_FRAGMENT */))]), _createElementVNode(\"p\", null, \"Total : \" + _toDisplayString($setup.orderedTotal.toFixed(2)) + \" â‚¬\", 1 /* TEXT */)]), _createElementVNode(\"p\", _hoisted_3, [_cache[3] || (_cache[3] = _createTextVNode(\" Retour Ã  lâ€™accueil dans \")), _createElementVNode(\"strong\", null, _toDisplayString($setup.countdown), 1 /* TEXT */), _cache[4] || (_cache[4] = _createTextVNode(\" seconde\")), $setup.countdown > 1 ? (_openBlock(), _createElementBlock(\"span\", _hoisted_4, \"s\")) : _createCommentVNode(\"v-if\", true), _cache[5] || (_cache[5] = _createTextVNode(\"... \"))]), _createCommentVNode(\" BOUTON AVEC ARRÃŠT DU TIMER \"), _createElementVNode(\"button\", {\n    class: \"home-btn\",\n    onClick: $setup.goHome\n  }, \" Revenir Ã  lâ€™accueil \")]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_toDisplayString","$setup","orderId","_hoisted_2","_Fragment","_renderList","orderedItems","item","i","key","name","price","toFixed","orderedTotal","_hoisted_3","countdown","_hoisted_4","_createCommentVNode","onClick","goHome"],"sources":["/Users/macbook/IdeaProjects/borne-commande-app/frontend/mon_projet_perso/src/views/ConfirmationView.vue"],"sourcesContent":["<template>\n  <div class=\"confirmation-page\">\n    <h1>Commande confirmÃ©e !</h1>\n    <p>\n      Merci pour votre commande\n      <strong>nÂ°{{ orderId }}</strong> ðŸŽ‰\n    </p>\n\n    <div class=\"summary\">\n      <h2>RÃ©sumÃ© :</h2>\n      <ul>\n        <li v-for=\"(item,i) in orderedItems\" :key=\"i\">\n          <strong>{{ item.name }}</strong> â€“ {{ item.price.toFixed(2) }} â‚¬\n        </li>\n      </ul>\n      <p>Total : {{ orderedTotal.toFixed(2) }} â‚¬</p>\n    </div>\n\n    <p class=\"countdown\">\n      Retour Ã  lâ€™accueil dans\n      <strong>{{ countdown }}</strong>\n      seconde<span v-if=\"countdown > 1\">s</span>...\n    </p>\n\n    <!-- BOUTON AVEC ARRÃŠT DU TIMER -->\n    <button class=\"home-btn\" @click=\"goHome\">\n      Revenir Ã  lâ€™accueil\n    </button>\n  </div>\n</template>\n\n\n<script setup>\nimport { ref, onMounted, onBeforeUnmount } from 'vue'\nimport { useCartStore } from '@/stores/cart'\nimport { useRouter } from 'vue-router'\n\nconst cart = useCartStore()\nconst router = useRouter()\n\nconst orderId = ref(Math.floor(Math.random() * 100000))\nconst orderedItems = ref([])\nconst orderedTotal = ref(0)\nconst countdown = ref(10)\n\nconst timer = ref(null) // ðŸ”´ stockage du timer\n\nfunction stopTimer() {\n  if (timer.value) {\n    clearInterval(timer.value)\n    timer.value = null\n  }\n}\n\nfunction goHome() {\n  stopTimer()\n  router.push('/')\n}\n\nonMounted(() => {\n  orderedItems.value = [...cart.items]\n  orderedTotal.value = cart.totalPrice\n  cart.clearCart()\n\n  timer.value = setInterval(() => {\n    countdown.value--\n    if (countdown.value <= 0) {\n      stopTimer()\n      router.push('/')\n    }\n  }, 1000)\n})\n\nonBeforeUnmount(() => {\n  stopTimer()\n})\n</script>\n\n\n<style scoped>\n.confirmation-page{min-height:100vh; display:flex; flex-direction:column; align-items:center; justify-content:center; text-align:center; padding:1rem; background:url('/public/images/fond.jpg') center/cover; font-family:Arial,sans-serif}\nh1{margin-bottom:1rem}\n.summary{background:rgba(238, 186, 95, 0.9);\npadding:1rem;\nborder-radius:1rem;\nmax-width:300px;\nwidth:90%; margin-bottom:1rem}\n.summary h2{\n  text-decoration:underline;\n  margin-bottom:0.5rem\n}\n.countdown{\n  margin-top:1rem;\n  color:#555\n}\n.home-btn {\n  display: inline-block;\n  margin-top: 1rem;\n  padding: 0.5rem 1.5rem;\n  background: #42b983;\n  color: white;\n  border-radius: 2rem;\n  border: none;\n  cursor: pointer;\n  font-size: 1rem;\n}\n@media(max-width:480px){ .summary{max-width:90%} h1{font-size:1.5rem} }\n</style>\n"],"mappings":";;EACOA,KAAK,EAAC;AAAmB;;EAOvBA,KAAK,EAAC;AAAS;;EAUjBA,KAAK,EAAC;AAAW;;;;;uBAjBtBC,mBAAA,CA2BM,OA3BNC,UA2BM,G,0BA1BJC,mBAAA,CAA6B,YAAzB,sBAAoB,qBACxBA,mBAAA,CAGI,Y,2CAHD,6BAED,IAAAA,mBAAA,CAAgC,gBAAxB,IAAE,GAAAC,gBAAA,CAAGC,MAAA,CAAAC,OAAO,kB,2CAAY,MAClC,G,GAEAH,mBAAA,CAQM,OARNI,UAQM,G,0BAPJJ,mBAAA,CAAiB,YAAb,UAAQ,qBACZA,mBAAA,CAIK,c,kBAHHF,mBAAA,CAEKO,SAAA,QAAAC,WAAA,CAFkBJ,MAAA,CAAAK,YAAY,GAAvBC,IAAI,EAACC,CAAC;yBAAlBX,mBAAA,CAEK;MAFiCY,GAAG,EAAED;IAAC,IAC1CT,mBAAA,CAAgC,gBAAAC,gBAAA,CAArBO,IAAI,CAACG,IAAI,kB,iBAAY,KAAG,GAAAV,gBAAA,CAAGO,IAAI,CAACI,KAAK,CAACC,OAAO,OAAM,KAChE,gB;oCAEFb,mBAAA,CAA8C,WAA3C,UAAQ,GAAAC,gBAAA,CAAGC,MAAA,CAAAY,YAAY,CAACD,OAAO,OAAM,IAAE,gB,GAG5Cb,mBAAA,CAII,KAJJe,UAII,G,2CAJiB,2BAEnB,IAAAf,mBAAA,CAAgC,gBAAAC,gBAAA,CAArBC,MAAA,CAAAc,SAAS,kB,2CAAY,UACzB,IAAYd,MAAA,CAAAc,SAAS,Q,cAArBlB,mBAAA,CAAmC,QAAAmB,UAAA,EAAR,GAAC,K,8EAAO,MAC5C,G,GAEAC,mBAAA,gCAAmC,EACnClB,mBAAA,CAES;IAFDH,KAAK,EAAC,UAAU;IAAEsB,OAAK,EAAEjB,MAAA,CAAAkB;KAAQ,uBAEzC,E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}