{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"confirmation flex flex-col items-center justify-center min-h-screen bg-green-50 p-6 text-center print:p-2\",\n  style: {\n    \"background-image\": \"url('/images/fond.jpg')\"\n  }\n};\nconst _hoisted_2 = {\n  class: \"text-lg text-gray-700 mb-4\"\n};\nconst _hoisted_3 = {\n  style: {\n    \"width\": \"2rem\",\n    \"height\": \"4em\"\n  }\n};\nconst _hoisted_4 = {\n  class: \"bg-white shadow-md rounded-lg p-6 w-full max-w-md text-left print:shadow-none print:border print:rounded-none\",\n  style: {\n    \"background-color\": \"rgb(101, 166, 222)\",\n    \"width\": \"20rem\"\n  }\n};\nconst _hoisted_5 = {\n  class: \"mb-4 text-sm\"\n};\nconst _hoisted_6 = {\n  class: \"font-bold text-green-700\"\n};\nconst _hoisted_7 = {\n  class: \"mt-6 text-gray-600 text-sm print:hidden\"\n};\nconst _hoisted_8 = {\n  class: \"font-bold\"\n};\nconst _hoisted_9 = {\n  key: 0\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[7] || (_cache[7] = _createElementVNode(\"h1\", {\n    style: {\n      \"margin\": \"1px\"\n    }\n  }, \"Commande confirmÃ©e !\", -1 /* CACHED */)), _createElementVNode(\"p\", _hoisted_2, [_cache[0] || (_cache[0] = _createTextVNode(\"Merci pour votre commande \")), _createElementVNode(\"strong\", _hoisted_3, \"nÂ°\" + _toDisplayString($setup.orderId), 1 /* TEXT */), _cache[1] || (_cache[1] = _createTextVNode(\" ðŸŽ‰\"))]), _createElementVNode(\"div\", _hoisted_4, [_cache[2] || (_cache[2] = _createElementVNode(\"h2\", {\n    class: \"text-xl font-semibold mb-2\",\n    style: {\n      \"text-decoration\": \"underline\"\n    }\n  }, \"RÃ©sumÃ© :\", -1 /* CACHED */)), _createElementVNode(\"ul\", _hoisted_5, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.orderedItems, (item, index) => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: index\n    }, _toDisplayString(item.name) + \" â€“ \" + _toDisplayString(item.price.toFixed(2)) + \" â‚¬ \", 1 /* TEXT */);\n  }), 128 /* KEYED_FRAGMENT */))]), _createElementVNode(\"p\", _hoisted_6, \"Total : \" + _toDisplayString($setup.orderedTotal.toFixed(2)) + \" â‚¬\", 1 /* TEXT */)]), _createElementVNode(\"p\", _hoisted_7, [_cache[3] || (_cache[3] = _createTextVNode(\" Retour Ã  lâ€™accueil dans \")), _createElementVNode(\"span\", _hoisted_8, _toDisplayString($setup.countdown), 1 /* TEXT */), _cache[4] || (_cache[4] = _createTextVNode(\" seconde\")), $setup.countdown > 1 ? (_openBlock(), _createElementBlock(\"span\", _hoisted_9, \"s\")) : _createCommentVNode(\"v-if\", true), _cache[5] || (_cache[5] = _createTextVNode(\"... \"))]), _createVNode(_component_router_link, {\n    to: \"/\",\n    class: \"mt-4 px-6 py-2 bg-green-600 text-white rounded-full hover:bg-green-700 transition print:hidden\"\n  }, {\n    default: _withCtx(() => _cache[6] || (_cache[6] = [_createTextVNode(\" Revenir Ã  lâ€™accueil \")])),\n    _: 1 /* STABLE */,\n    __: [6]\n  })]);\n}","map":{"version":3,"names":["class","style","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_toDisplayString","$setup","orderId","_hoisted_4","_hoisted_5","_Fragment","_renderList","orderedItems","item","index","key","name","price","toFixed","_hoisted_6","orderedTotal","_hoisted_7","_hoisted_8","countdown","_hoisted_9","_createVNode","_component_router_link","to","_cache"],"sources":["/Users/macbook/IdeaProjects/borne-commande-app/frontend/mon_projet_perso/src/views/ConfirmationView.vue"],"sourcesContent":["<template>\n  <div class=\"confirmation flex flex-col items-center justify-center min-h-screen bg-green-50 p-6 text-center print:p-2\" style =\"background-image: url('/images/fond.jpg')\">\n    <h1 style = \"margin : 1px\">Commande confirmÃ©e !</h1>\n    <p class=\"text-lg text-gray-700 mb-4\">Merci pour votre commande <strong style=\"width : 2rem; height : 4em\">nÂ°{{ orderId }}</strong> ðŸŽ‰</p>\n\n    <div class=\"bg-white shadow-md rounded-lg p-6 w-full max-w-md text-left print:shadow-none print:border print:rounded-none\" style=\"background-color : rgb(101, 166, 222); width : 20rem\">\n      <h2 class=\"text-xl font-semibold mb-2\" style=\"text-decoration : underline\">RÃ©sumÃ© :</h2>\n      <ul class=\"mb-4 text-sm\">\n        <li v-for=\"(item, index) in orderedItems\" :key=\"index\">\n          {{ item.name }} â€“ {{ item.price.toFixed(2) }} â‚¬\n        </li>\n      </ul>\n      <p class=\"font-bold text-green-700\">Total : {{ orderedTotal.toFixed(2) }} â‚¬</p>\n    </div>\n\n    <p class=\"mt-6 text-gray-600 text-sm print:hidden\">\n      Retour Ã  lâ€™accueil dans <span class=\"font-bold\">{{ countdown }}</span> seconde<span v-if=\"countdown > 1\">s</span>...\n    </p>\n\n    <router-link\n      to=\"/\"\n      class=\"mt-4 px-6 py-2 bg-green-600 text-white rounded-full hover:bg-green-700 transition print:hidden\"\n    >\n      Revenir Ã  lâ€™accueil\n    </router-link>\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted } from 'vue'\nimport { useCartStore } from '@/stores/cart'\nimport { useRouter } from 'vue-router'\n\nconst cart = useCartStore()\nconst router = useRouter()\n\nconst orderId = ref(Math.floor(Math.random() * 100000))\nconst orderedItems = ref([])\nconst orderedTotal = ref(0)\nconst countdown = ref(10)\n\nonMounted(() => {\n  // Capture des items avant suppression\n  orderedItems.value = [...cart.items]\n  orderedTotal.value = cart.totalPrice\n  cart.clearCart()\n\n  // DÃ©clenchement impression automatique\n  //setTimeout(() => {\n  //window.print()\n  //}, 500)\n\n  // DÃ©compte automatique vers l'accueil\n  const interval = setInterval(() => {\n    countdown.value--\n    if (countdown.value <= 0) {\n      clearInterval(interval)\n      router.push('/')\n    }\n  }, 1000)\n})\n</script>\n\n<style scoped>\n.confirmation h1 {\n  font-family: 'Segoe UI', sans-serif;\n}\n@media print {\n  a,\n  button,\n  .print\\:hidden {\n    display: none !important;\n  }\n}\n</style>\n"],"mappings":";;EACOA,KAAK,EAAC,2GAA2G;EAACC,KAAkD,EAAlD;IAAA;EAAA;;;EAElHD,KAAK,EAAC;AAA4B;;EAAmCC,KAAkC,EAAlC;IAAA;IAAA;EAAA;AAAkC;;EAErGD,KAAK,EAAC,+GAA+G;EAACC,KAA4D,EAA5D;IAAA;IAAA;EAAA;;;EAErHD,KAAK,EAAC;AAAc;;EAKrBA,KAAK,EAAC;AAA0B;;EAGlCA,KAAK,EAAC;AAAyC;;EAClBA,KAAK,EAAC;AAAW;;;;;;uBAfnDE,mBAAA,CAwBM,OAxBNC,UAwBM,G,0BAvBJC,mBAAA,CAAoD;IAAhDH,KAAsB,EAAtB;MAAA;IAAA;EAAsB,GAAC,sBAAoB,qBAC/CG,mBAAA,CAA0I,KAA1IC,UAA0I,G,2CAApG,4BAA0B,IAAAD,mBAAA,CAAmE,UAAnEE,UAAmE,EAAxB,IAAE,GAAAC,gBAAA,CAAGC,MAAA,CAAAC,OAAO,kB,2CAAY,KAAG,G,GAEtIL,mBAAA,CAQM,OARNM,UAQM,G,0BAPJN,mBAAA,CAAwF;IAApFJ,KAAK,EAAC,4BAA4B;IAACC,KAAmC,EAAnC;MAAA;IAAA;KAAoC,UAAQ,qBACnFG,mBAAA,CAIK,MAJLO,UAIK,I,kBAHHT,mBAAA,CAEKU,SAAA,QAAAC,WAAA,CAFuBL,MAAA,CAAAM,YAAY,GAA5BC,IAAI,EAAEC,KAAK;yBAAvBd,mBAAA,CAEK;MAFsCe,GAAG,EAAED;IAAK,GAAAT,gBAAA,CAChDQ,IAAI,CAACG,IAAI,IAAG,KAAG,GAAAX,gBAAA,CAAGQ,IAAI,CAACI,KAAK,CAACC,OAAO,OAAM,KAC/C;oCAEFhB,mBAAA,CAA+E,KAA/EiB,UAA+E,EAA3C,UAAQ,GAAAd,gBAAA,CAAGC,MAAA,CAAAc,YAAY,CAACF,OAAO,OAAM,IAAE,gB,GAG7EhB,mBAAA,CAEI,KAFJmB,UAEI,G,2CAF+C,2BACzB,IAAAnB,mBAAA,CAA8C,QAA9CoB,UAA8C,EAAAjB,gBAAA,CAAnBC,MAAA,CAAAiB,SAAS,kB,2CAAU,UAAQ,IAAYjB,MAAA,CAAAiB,SAAS,Q,cAArBvB,mBAAA,CAAmC,QAAAwB,UAAA,EAAR,GAAC,K,8EAAO,MACnH,G,GAEAC,YAAA,CAKcC,sBAAA;IAJZC,EAAE,EAAC,GAAG;IACN7B,KAAK,EAAC;;sBACP,MAED8B,MAAA,QAAAA,MAAA,O,iBAFC,uBAED,E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}