{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { ref, onMounted } from 'vue';\nimport { useCartStore } from '@/stores/cart';\nimport { useRouter } from 'vue-router';\nexport default {\n  __name: 'ConfirmationView',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const cart = useCartStore();\n    const router = useRouter();\n    const orderId = ref(Math.floor(Math.random() * 100000));\n    const orderedItems = ref([]);\n    const orderedTotal = ref(0);\n    const countdown = ref(10);\n    onMounted(() => {\n      orderedItems.value = [...cart.items];\n      orderedTotal.value = cart.totalPrice;\n      cart.clearCart();\n      const interval = setInterval(() => {\n        countdown.value--;\n        if (countdown.value <= 0) {\n          clearInterval(interval);\n          router.push('/');\n        }\n      }, 1000);\n    });\n    const __returned__ = {\n      cart,\n      router,\n      orderId,\n      orderedItems,\n      orderedTotal,\n      countdown,\n      ref,\n      onMounted,\n      get useCartStore() {\n        return useCartStore;\n      },\n      get useRouter() {\n        return useRouter;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","onMounted","useCartStore","useRouter","cart","router","orderId","Math","floor","random","orderedItems","orderedTotal","countdown","value","items","totalPrice","clearCart","interval","setInterval","clearInterval","push"],"sources":["/Users/macbook/IdeaProjects/borne-commande-app/frontend/mon_projet_perso/src/views/ConfirmationView.vue"],"sourcesContent":["<template>\n  <div class=\"confirmation-page\">\n    <h1>Commande confirmÃ©e !</h1>\n    <p>Merci pour votre commande <strong>nÂ°{{ orderId }}</strong> ðŸŽ‰</p>\n\n    <div class=\"summary\">\n      <h2>RÃ©sumÃ© :</h2>\n      <ul>\n        <li v-for=\"(item,i) in orderedItems\" :key=\"i\">{{ item.name }} â€“ {{ item.price.toFixed(2) }} â‚¬</li>\n      </ul>\n      <p>Total : {{ orderedTotal.toFixed(2) }} â‚¬</p>\n    </div>\n\n    <p class=\"countdown\">Retour Ã  lâ€™accueil dans <strong>{{ countdown }}</strong> seconde<span v-if=\"countdown>1\">s</span>...</p>\n    <router-link to=\"/\" class=\"home-btn\">Revenir Ã  lâ€™accueil</router-link>\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted } from 'vue'\nimport { useCartStore } from '@/stores/cart'\nimport { useRouter } from 'vue-router'\n\nconst cart = useCartStore()\nconst router = useRouter()\nconst orderId = ref(Math.floor(Math.random()*100000))\nconst orderedItems = ref([])\nconst orderedTotal = ref(0)\nconst countdown = ref(10)\n\nonMounted(()=>{\n  orderedItems.value = [...cart.items]\n  orderedTotal.value = cart.totalPrice\n  cart.clearCart()\n  const interval = setInterval(()=>{\n    countdown.value--\n    if(countdown.value<=0){clearInterval(interval);router.push('/')}\n  },1000)\n})\n</script>\n\n<style scoped>\n.confirmation-page{min-height:100vh; display:flex; flex-direction:column; align-items:center; justify-content:center; text-align:center; padding:1rem; background:url('/public/images/fond.jpg') center/cover; font-family:Arial,sans-serif}\nh1{margin-bottom:1rem}\n.summary{background:rgba(226, 185, 114, 0.9); padding:1rem; border-radius:1rem; max-width:300px; width:90%; margin-bottom:1rem}\n.summary h2{text-decoration:underline;margin-bottom:0.5rem}\n.countdown{margin-top:1rem;color:#555}\n.home-btn{display:inline-block;margin-top:1rem;padding:0.5rem 1.5rem;background:#42b983;color:white;border-radius:2rem;text-decoration:none}\n@media(max-width:480px){ .summary{max-width:90%} h1{font-size:1.5rem} }\n</style>\n"],"mappings":";AAmBA,SAASA,GAAG,EAAEC,SAAS,QAAQ,KAAI;AACnC,SAASC,YAAY,QAAQ,eAAc;AAC3C,SAASC,SAAS,QAAQ,YAAW;;;;;;;IAErC,MAAMC,IAAI,GAAGF,YAAY,CAAC;IAC1B,MAAMG,MAAM,GAAGF,SAAS,CAAC;IACzB,MAAMG,OAAO,GAAGN,GAAG,CAACO,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAC,MAAM,CAAC;IACpD,MAAMC,YAAY,GAAGV,GAAG,CAAC,EAAE;IAC3B,MAAMW,YAAY,GAAGX,GAAG,CAAC,CAAC;IAC1B,MAAMY,SAAS,GAAGZ,GAAG,CAAC,EAAE;IAExBC,SAAS,CAAC,MAAI;MACZS,YAAY,CAACG,KAAK,GAAG,CAAC,GAAGT,IAAI,CAACU,KAAK;MACnCH,YAAY,CAACE,KAAK,GAAGT,IAAI,CAACW,UAAS;MACnCX,IAAI,CAACY,SAAS,CAAC;MACf,MAAMC,QAAQ,GAAGC,WAAW,CAAC,MAAI;QAC/BN,SAAS,CAACC,KAAK,EAAC;QAChB,IAAGD,SAAS,CAACC,KAAK,IAAE,CAAC,EAAC;UAACM,aAAa,CAACF,QAAQ,CAAC;UAACZ,MAAM,CAACe,IAAI,CAAC,GAAG,CAAC;QAAA;MACjE,CAAC,EAAC,IAAI;IACR,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}