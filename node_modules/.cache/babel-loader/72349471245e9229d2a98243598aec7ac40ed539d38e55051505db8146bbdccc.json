{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeClass as _normalizeClass, createTextVNode as _createTextVNode, createVNode as _createVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"food-page\"\n};\nconst _hoisted_2 = {\n  class: \"title\"\n};\nconst _hoisted_3 = {\n  ref: \"columnsContainer\",\n  class: \"layout\"\n};\nconst _hoisted_4 = {\n  ref: \"leftCol\",\n  class: \"categories-col\"\n};\nconst _hoisted_5 = {\n  class: \"categories-list\"\n};\nconst _hoisted_6 = [\"onClick\"];\nconst _hoisted_7 = [\"src\", \"alt\"];\nconst _hoisted_8 = {\n  ref: \"rightCol\",\n  class: \"products-col\"\n};\nconst _hoisted_9 = {\n  key: 0\n};\nconst _hoisted_10 = {\n  class: \"grid\"\n};\nconst _hoisted_11 = [\"onClick\", \"src\", \"alt\"];\nconst _hoisted_12 = {\n  class: \"product-name\"\n};\nconst _hoisted_13 = {\n  key: 0\n};\nconst _hoisted_14 = {\n  key: 1,\n  class: \"no-selection\"\n};\nconst _hoisted_15 = {\n  ref: \"cartCol\",\n  class: \"cart-right\"\n};\nconst _hoisted_16 = [\"disabled\"];\nconst _hoisted_17 = {\n  key: 0,\n  class: \"cart-floating\"\n};\nconst _hoisted_18 = [\"disabled\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" TITRE \"), _createElementVNode(\"h1\", _hoisted_2, _toDisplayString($setup.selectedCategory?.label === 'Jus' ? 'ü•§ Choisissez votre Jus' : `üçΩÔ∏è Choisissez votre ${$setup.selectedCategory?.label?.toLowerCase() || 'cat√©gorie'}`), 1 /* TEXT */), _createCommentVNode(\" CONTENEUR PRINCIPAL \"), _createElementVNode(\"div\", _hoisted_3, [_createCommentVNode(\" COLONNE CAT√âGORIES \"), _createElementVNode(\"aside\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [(_openBlock(), _createElementBlock(_Fragment, null, _renderList($setup.categories, category => {\n    return _createElementVNode(\"div\", {\n      key: category.name,\n      onClick: $event => $setup.selectCategory(category),\n      class: _normalizeClass(['category-item', {\n        selected: $setup.selectedCategory?.name === category.name\n      }])\n    }, [_createElementVNode(\"img\", {\n      src: category.image,\n      alt: category.label\n    }, null, 8 /* PROPS */, _hoisted_7), _createElementVNode(\"p\", null, _toDisplayString(category.label), 1 /* TEXT */)], 10 /* CLASS, PROPS */, _hoisted_6);\n  }), 64 /* STABLE_FRAGMENT */))])], 512 /* NEED_PATCH */), _createCommentVNode(\" COLONNE PRODUITS \"), _createElementVNode(\"main\", _hoisted_8, [$setup.selectedCategory ? (_openBlock(), _createElementBlock(\"div\", _hoisted_9, [_createElementVNode(\"div\", _hoisted_10, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.selectedCategory.items, item => {\n    return _openBlock(), _createElementBlock(\"article\", {\n      key: item.name,\n      class: \"product-card\"\n    }, [_createElementVNode(\"img\", {\n      onClick: $event => $setup.addToCart(item),\n      src: item.image,\n      alt: item.name\n    }, null, 8 /* PROPS */, _hoisted_11), _createElementVNode(\"p\", _hoisted_12, [_createTextVNode(_toDisplayString(item.name) + \" : \" + _toDisplayString(item.price.toFixed(2)) + \" ‚Ç¨ \", 1 /* TEXT */), item.composant ? (_openBlock(), _createElementBlock(\"span\", _hoisted_13, \"(\" + _toDisplayString(item.composant) + \")\", 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)])]);\n  }), 128 /* KEYED_FRAGMENT */))])])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_14, \" üß≠ Cliquez sur une cat√©gorie pour composer votre menu \"))], 512 /* NEED_PATCH */), _createCommentVNode(\" PANIER LAT√âRAL (DESKTOP / TABLETTE) \"), _createElementVNode(\"aside\", _hoisted_15, [_createElementVNode(\"button\", {\n    class: \"back-btn\",\n    onClick: $setup.goToHome\n  }, \"‚¨Ö Retour\"), _createVNode($setup[\"CartSummary\"]), _createElementVNode(\"button\", {\n    class: \"pay-btn\",\n    disabled: $setup.cart.items.length === 0,\n    onClick: $setup.goToConfirmation\n  }, \" ‚úÖ Passer la commande \", 8 /* PROPS */, _hoisted_16)], 512 /* NEED_PATCH */)], 512 /* NEED_PATCH */), _createCommentVNode(\" BOUTON PANIER FLOTTANT (MOBILE) \"), $setup.cart.items.length > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_17, [_createElementVNode(\"button\", {\n    class: \"cart-floating-content\",\n    onClick: $setup.toggleMobileCart\n  }, [_createElementVNode(\"span\", null, \"üõí \" + _toDisplayString($setup.cart.items.length), 1 /* TEXT */), _createElementVNode(\"span\", null, _toDisplayString($setup.cart.totalPrice.toFixed(2)) + \" ‚Ç¨\", 1 /* TEXT */), _cache[0] || (_cache[0] = _createElementVNode(\"span\", null, \"‚ñ≤\", -1 /* CACHED */))])])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" MENU PANIER D√âROULANT (MOBILE) \"), _createElementVNode(\"div\", {\n    class: _normalizeClass([\"mobile-cart-drawer\", {\n      open: $setup.showMobileCart\n    }])\n  }, [_createElementVNode(\"div\", {\n    class: \"drawer-header\"\n  }, [_cache[1] || (_cache[1] = _createElementVNode(\"h3\", null, \"üõí Votre panier\", -1 /* CACHED */)), _createElementVNode(\"button\", {\n    class: \"close-btn\",\n    onClick: $setup.toggleMobileCart\n  }, \"‚úï\")]), _createVNode($setup[\"CartSummary\"]), _createElementVNode(\"button\", {\n    class: \"pay-btn\",\n    disabled: $setup.cart.items.length === 0,\n    onClick: $setup.goToConfirmation\n  }, \" ‚úÖ Passer la commande \", 8 /* PROPS */, _hoisted_18)], 2 /* CLASS */)]);\n}","map":{"version":3,"names":["class","ref","_createElementBlock","_hoisted_1","_createCommentVNode","_createElementVNode","_hoisted_2","_toDisplayString","$setup","selectedCategory","label","toLowerCase","_hoisted_3","_hoisted_4","_hoisted_5","_Fragment","_renderList","categories","category","key","name","onClick","$event","selectCategory","_normalizeClass","selected","src","image","alt","_hoisted_8","_hoisted_9","_hoisted_10","items","item","addToCart","_hoisted_12","price","toFixed","composant","_hoisted_13","_hoisted_14","_hoisted_15","goToHome","_createVNode","disabled","cart","length","goToConfirmation","_hoisted_16","_hoisted_17","toggleMobileCart","totalPrice","open","showMobileCart","_hoisted_18"],"sources":["/Users/macbook/IdeaProjects/borne-commande-app/frontend/mon_projet_perso/src/views/FoodView.vue"],"sourcesContent":["<template>\n  <div class=\"food-page\">\n    <!-- TITRE -->\n    <h1 class=\"title\">\n      {{ selectedCategory?.label === 'Jus'\n        ? 'ü•§ Choisissez votre Jus'\n        : `üçΩÔ∏è Choisissez votre ${selectedCategory?.label?.toLowerCase() || 'cat√©gorie'}`\n      }}\n    </h1>\n\n    <!-- CONTENEUR PRINCIPAL -->\n    <div ref=\"columnsContainer\" class=\"layout\">\n\n      <!-- COLONNE CAT√âGORIES -->\n      <aside ref=\"leftCol\" class=\"categories-col\">\n        <div class=\"categories-list\">\n          <div\n            v-for=\"category in categories\"\n            :key=\"category.name\"\n            @click=\"selectCategory(category)\"\n            :class=\"['category-item', { selected: selectedCategory?.name === category.name }]\"\n          >\n            <img :src=\"category.image\" :alt=\"category.label\" />\n            <p>{{ category.label }}</p>\n          </div>\n        </div>\n      </aside>\n\n      <!-- COLONNE PRODUITS -->\n      <main ref=\"rightCol\" class=\"products-col\">\n        <div v-if=\"selectedCategory\">\n          <div class=\"grid\">\n            <article\n              v-for=\"item in selectedCategory.items\"\n              :key=\"item.name\"\n              class=\"product-card\"\n            >\n              <img\n                @click=\"addToCart(item)\"\n                :src=\"item.image\"\n                :alt=\"item.name\"\n              />\n              <p class=\"product-name\">\n                {{ item.name }} : {{ item.price.toFixed(2) }} ‚Ç¨\n                <span v-if=\"item.composant\">({{ item.composant }})</span>\n              </p>\n            </article>\n          </div>\n        </div>\n\n        <div v-else class=\"no-selection\">\n          üß≠ Cliquez sur une cat√©gorie pour composer votre menu\n        </div>\n      </main>\n\n      <!-- PANIER LAT√âRAL (DESKTOP / TABLETTE) -->\n      <aside ref=\"cartCol\" class=\"cart-right\">\n        <button class=\"back-btn\" @click=\"goToHome\">‚¨Ö Retour</button>\n        <CartSummary />\n        <button\n          class=\"pay-btn\"\n          :disabled=\"cart.items.length === 0\"\n          @click=\"goToConfirmation\"\n        >\n          ‚úÖ Passer la commande\n        </button>\n      </aside>\n    </div>\n\n    <!-- BOUTON PANIER FLOTTANT (MOBILE) -->\n    <div class=\"cart-floating\" v-if=\"cart.items.length > 0\">\n      <button class=\"cart-floating-content\" @click=\"toggleMobileCart\">\n        <span>üõí {{ cart.items.length }}</span>\n        <span>{{ cart.totalPrice.toFixed(2) }} ‚Ç¨</span>\n        <span>‚ñ≤</span>\n      </button>\n    </div>\n\n    <!-- MENU PANIER D√âROULANT (MOBILE) -->\n    <div class=\"mobile-cart-drawer\" :class=\"{ open: showMobileCart }\">\n      <div class=\"drawer-header\">\n        <h3>üõí Votre panier</h3>\n        <button class=\"close-btn\" @click=\"toggleMobileCart\">‚úï</button>\n      </div>\n\n      <CartSummary />\n\n      <button\n        class=\"pay-btn\"\n        :disabled=\"cart.items.length === 0\"\n        @click=\"goToConfirmation\"\n      >\n        ‚úÖ Passer la commande\n      </button>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted, onBeforeUnmount } from 'vue'\nimport { useCartStore } from '@/stores/cart'\nimport { useRouter } from 'vue-router'\nimport CartSummary from '@/components/CartSummary.vue'\n\nconst cart = useCartStore()\nconst router = useRouter()\n\nconst selectedCategory = ref(null)\nconst showMobileCart = ref(false)\n\nfunction toggleMobileCart() {\n  showMobileCart.value = !showMobileCart.value\n}\n\nfunction addToCart(item) {\n  cart.addItem({ ...item, category: 'food' })\n}\n\nfunction goToConfirmation() {\n  if (cart.items.length > 0) router.push('/cart')\n}\n\nfunction goToHome() {\n  router.push('/home')\n}\n\nfunction selectCategory(category) {\n  selectedCategory.value = category\n}\n\n/* SCROLL INTELLIGENT */\nconst leftCol = ref(null)\nconst rightCol = ref(null)\nconst cartCol = ref(null)\nconst columnsContainer = ref(null)\n\nfunction onWheel(e) {\n  const el = document.elementFromPoint(e.clientX, e.clientY)\n  const cols = [leftCol.value, rightCol.value, cartCol.value]\n  for (const col of cols) {\n    if (col && col.contains(el)) {\n      col.scrollTop += e.deltaY\n      e.preventDefault()\n      return\n    }\n  }\n}\n\nonMounted(() => {\n  columnsContainer.value?.addEventListener('wheel', onWheel, { passive: false })\n})\nonBeforeUnmount(() => {\n  columnsContainer.value?.removeEventListener('wheel', onWheel)\n})\n\n/* DONN√âES */\nconst categories = [\n  {\n    name: 'plats',\n    label: 'Plat',\n    image: '/images/categorie_plat.jpg',\n    items: [\n      { name: 'Thi√©bou dieune', price: 16, image: '/images/tieboudiene.jpg' },\n      { name: 'Yassa guinaar', price: 16, image: '/images/yassa.jpg' }\n    ]\n  },\n  {\n    name: 'boissons',\n    label: 'Jus',\n    image: '/images/jus_naturel.jpg',\n    items: [\n      { name: 'Bissap', price: 6, image: '/images/jus_bissap.jpg' },\n      { name: 'Mangue', price: 6, image: '/images/jus_de_mangue.jpg' }\n    ]\n  }\n]\n</script>\n\n<style scoped>\n.food-page {\n  min-height: 100vh;\n  padding: 1rem;\n  background: #f8f8f8;\n}\n\n.title {\n  text-align: center;\n  font-size: 2rem;\n  margin-bottom: 1rem;\n}\n\n.layout {\n  display: flex;\n  height: calc(100vh - 6rem);\n  gap: 1rem;\n}\n\n.categories-col {\n  width: 220px;\n  overflow-y: auto;\n}\n\n.products-col {\n  flex: 1;\n  overflow-y: auto;\n}\n\n.grid {\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  gap: 1rem;\n}\n\n.product-card {\n  background: white;\n  border-radius: 1rem;\n  padding: 0.5rem;\n  text-align: center;\n}\n\n.cart-right {\n  width: 320px;\n  position: sticky;\n  top: 1rem;\n  overflow-y: auto;\n}\n\n.back-btn,\n.pay-btn {\n  width: 100%;\n  margin-bottom: 0.5rem;\n  padding: 0.75rem;\n  border-radius: 999px;\n  border: none;\n  font-weight: bold;\n}\n\n.back-btn {\n  background: orange;\n  color: white;\n}\n\n.pay-btn {\n  background: green;\n  color: white;\n}\n\n/* MOBILE */\n@media (max-width: 768px) {\n  .cart-right {\n    display: none;\n  }\n\n  .grid {\n    grid-template-columns: repeat(2, 1fr);\n  }\n\n  .cart-floating {\n    position: fixed;\n    bottom: 1rem;\n    left: 50%;\n    transform: translateX(-50%);\n    width: 90%;\n    z-index: 2000;\n  }\n\n  .cart-floating-content {\n    background: green;\n    color: white;\n    padding: 0.75rem 1rem;\n    border-radius: 999px;\n    display: flex;\n    justify-content: space-between;\n    font-weight: bold;\n  }\n\n  .mobile-cart-drawer {\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    height: 60vh;\n    width: 100%;\n    background: white;\n    transform: translateY(100%);\n    transition: transform 0.3s ease;\n    z-index: 3000;\n    padding: 1rem;\n    box-shadow: 0 -5px 20px rgba(0,0,0,0.25);\n  }\n\n  .mobile-cart-drawer.open {\n    transform: translateY(0);\n  }\n\n  .drawer-header {\n    display: flex;\n    justify-content: space-between;\n    margin-bottom: 1rem;\n  }\n\n  .close-btn {\n    font-size: 1.5rem;\n    border: none;\n    background: none;\n  }\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}