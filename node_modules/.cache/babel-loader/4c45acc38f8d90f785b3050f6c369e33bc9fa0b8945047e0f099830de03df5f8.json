{"ast":null,"code":"import { onMounted, ref } from 'vue';\nimport { useCartStore } from '@/stores/cart';\nimport { useRoute } from 'vue-router';\nimport QrcodeVue from 'qrcode.vue';\nexport default {\n  __name: 'ConfirmationView',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const cart = useCartStore();\n    const route = useRoute();\n    const orderId = ref(Math.floor(Math.random() * 100000));\n    const orderedItems = ref([]);\n    const orderedTotal = ref(0);\n    const showQr = ref(true); // Active/désactive le QR code\n\n    onMounted(() => {\n      // Capture les articles avant de vider\n      orderedItems.value = [...cart.items];\n      orderedTotal.value = cart.totalPrice;\n      cart.clearCart();\n    });\n    const __returned__ = {\n      cart,\n      route,\n      orderId,\n      orderedItems,\n      orderedTotal,\n      showQr,\n      onMounted,\n      ref,\n      get useCartStore() {\n        return useCartStore;\n      },\n      get useRoute() {\n        return useRoute;\n      },\n      QrcodeVue\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["onMounted","ref","useCartStore","useRoute","QrcodeVue","cart","route","orderId","Math","floor","random","orderedItems","orderedTotal","showQr","value","items","totalPrice","clearCart"],"sources":["/Users/macbook/IdeaProjects/borne-commande-app/frontend/mon_projet_perso/src/views/ConfirmationView.vue"],"sourcesContent":["<template>\n  <div class=\"confirmation flex flex-col items-center justify-center min-h-screen bg-green-50 p-6 text-center\">\n    <h1 class=\"text-3xl font-bold text-green-700 mb-4\">Confirmation de commande</h1>\n    <p class=\"text-lg text-gray-700 mb-6\">Merci pour votre commande n°{{ orderId }} !</p>\n\n    <div class=\"bg-white shadow-md rounded-lg p-6 w-full max-w-md text-left\">\n      <h2 class=\"text-xl font-semibold mb-2\">Résumé de votre commande :</h2>\n      <ul class=\"mb-4\">\n        <li v-for=\"(item, index) in orderedItems\" :key=\"index\" class=\"mb-1\">\n          {{ item.name }} - {{ item.price.toFixed(2) }} €\n        </li>\n      </ul>\n      <p class=\"font-bold text-green-700\">Total : {{ orderedTotal.toFixed(2) }} €</p>\n    </div>\n\n    <router-link\n      to=\"/\"\n      class=\"mt-6 px-6 py-3 bg-green-600 text-white rounded-full hover:bg-green-700 transition\"\n    >\n      Nouvelle commande\n    </router-link>\n\n    <!-- QR code optionnel -->\n    <qrcode-vue\n      v-if=\"showQr\"\n      class=\"mt-6\"\n      :value=\"`Commande n°${orderId} - Total: ${orderedTotal.toFixed(2)}€`\"\n      :size=\"128\"\n    />\n  </div>\n</template>\n\n<script setup>\nimport { onMounted, ref } from 'vue'\nimport { useCartStore } from '@/stores/cart'\nimport { useRoute } from 'vue-router'\nimport QrcodeVue from 'qrcode.vue'\n\nconst cart = useCartStore()\nconst route = useRoute()\n\nconst orderId = ref(Math.floor(Math.random() * 100000))\nconst orderedItems = ref([])\nconst orderedTotal = ref(0)\nconst showQr = ref(true) // Active/désactive le QR code\n\nonMounted(() => {\n  // Capture les articles avant de vider\n  orderedItems.value = [...cart.items]\n  orderedTotal.value = cart.totalPrice\n  cart.clearCart()\n})\n</script>\n\n<style scoped>\n.confirmation h1 {\n  font-family: 'Segoe UI', sans-serif;\n}\n</style>\n"],"mappings":"AAiCA,SAASA,SAAS,EAAEC,GAAG,QAAQ,KAAI;AACnC,SAASC,YAAY,QAAQ,eAAc;AAC3C,SAASC,QAAQ,QAAQ,YAAW;AACpC,OAAOC,SAAS,MAAM,YAAW;;;;;;;IAEjC,MAAMC,IAAI,GAAGH,YAAY,CAAC;IAC1B,MAAMI,KAAK,GAAGH,QAAQ,CAAC;IAEvB,MAAMI,OAAO,GAAGN,GAAG,CAACO,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAG,MAAM,CAAC;IACtD,MAAMC,YAAY,GAAGV,GAAG,CAAC,EAAE;IAC3B,MAAMW,YAAY,GAAGX,GAAG,CAAC,CAAC;IAC1B,MAAMY,MAAM,GAAGZ,GAAG,CAAC,IAAI,CAAC,EAAC;;IAEzBD,SAAS,CAAC,MAAM;MACd;MACAW,YAAY,CAACG,KAAK,GAAG,CAAC,GAAGT,IAAI,CAACU,KAAK;MACnCH,YAAY,CAACE,KAAK,GAAGT,IAAI,CAACW,UAAS;MACnCX,IAAI,CAACY,SAAS,CAAC;IACjB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}