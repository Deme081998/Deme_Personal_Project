{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { ref, onMounted } from 'vue';\nimport { useCartStore } from '@/stores/cart';\nimport { useRouter } from 'vue-router';\nexport default {\n  __name: 'ConfirmationView',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const cart = useCartStore();\n    const router = useRouter();\n    const orderId = ref(Math.floor(Math.random() * 100000));\n    const orderedItems = ref([]);\n    const orderedTotal = ref(0);\n    const countdown = ref(10);\n    onMounted(() => {\n      // Capture des items avant suppression\n      orderedItems.value = [...cart.items];\n      orderedTotal.value = cart.totalPrice;\n      cart.clearCart();\n\n      // DÃ©clenchement impression automatique\n      //setTimeout(() => {\n      //window.print()\n      //}, 500)\n\n      // DÃ©compte automatique vers l'accueil\n      const interval = setInterval(() => {\n        countdown.value--;\n        if (countdown.value <= 0) {\n          clearInterval(interval);\n          router.push('/');\n        }\n      }, 1000);\n    });\n    const __returned__ = {\n      cart,\n      router,\n      orderId,\n      orderedItems,\n      orderedTotal,\n      countdown,\n      ref,\n      onMounted,\n      get useCartStore() {\n        return useCartStore;\n      },\n      get useRouter() {\n        return useRouter;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","onMounted","useCartStore","useRouter","cart","router","orderId","Math","floor","random","orderedItems","orderedTotal","countdown","value","items","totalPrice","clearCart","interval","setInterval","clearInterval","push"],"sources":["/Users/macbook/IdeaProjects/borne-commande-app/frontend/mon_projet_perso/src/views/ConfirmationView.vue"],"sourcesContent":["<template>\n  <div class=\"confirmation flex flex-col items-center justify-center min-h-screen bg-green-50 p-6 text-center print:p-2\" style =\"background-image: url('/images/fond.jpg')\">\n    <h1 style = \"margin : 1px\">Commande confirmÃ©e !</h1>\n    <p class=\"text-lg text-gray-700 mb-4\">Merci pour votre commande <strong style=\"width : 2em\">nÂ°{{ orderId }}</strong> ðŸŽ‰</p>\n\n    <div class=\"bg-white shadow-md rounded-lg p-6 w-full max-w-md text-left print:shadow-none print:border print:rounded-none\" style=\"background-color : rgb(101, 166, 222); width : 20rem\">\n      <h2 class=\"text-xl font-semibold mb-2\" style=\"text-decoration : underline\">RÃ©sumÃ© :</h2>\n      <ul class=\"mb-4 text-sm\">\n        <li v-for=\"(item, index) in orderedItems\" :key=\"index\">\n          {{ item.name }} â€“ {{ item.price.toFixed(2) }} â‚¬\n        </li>\n      </ul>\n      <p class=\"font-bold text-green-700\">Total : {{ orderedTotal.toFixed(2) }} â‚¬</p>\n    </div>\n\n    <p class=\"mt-6 text-gray-600 text-sm print:hidden\">\n      Retour Ã  lâ€™accueil dans <span class=\"font-bold\">{{ countdown }}</span> seconde<span v-if=\"countdown > 1\">s</span>...\n    </p>\n\n    <router-link\n      to=\"/\"\n      class=\"mt-4 px-6 py-2 bg-green-600 text-white rounded-full hover:bg-green-700 transition print:hidden\"\n    >\n      Revenir Ã  lâ€™accueil\n    </router-link>\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted } from 'vue'\nimport { useCartStore } from '@/stores/cart'\nimport { useRouter } from 'vue-router'\n\nconst cart = useCartStore()\nconst router = useRouter()\n\nconst orderId = ref(Math.floor(Math.random() * 100000))\nconst orderedItems = ref([])\nconst orderedTotal = ref(0)\nconst countdown = ref(10)\n\nonMounted(() => {\n  // Capture des items avant suppression\n  orderedItems.value = [...cart.items]\n  orderedTotal.value = cart.totalPrice\n  cart.clearCart()\n\n  // DÃ©clenchement impression automatique\n  //setTimeout(() => {\n  //window.print()\n  //}, 500)\n\n  // DÃ©compte automatique vers l'accueil\n  const interval = setInterval(() => {\n    countdown.value--\n    if (countdown.value <= 0) {\n      clearInterval(interval)\n      router.push('/')\n    }\n  }, 1000)\n})\n</script>\n\n<style scoped>\n.confirmation h1 {\n  font-family: 'Segoe UI', sans-serif;\n}\n@media print {\n  a,\n  button,\n  .print\\:hidden {\n    display: none !important;\n  }\n}\n</style>\n"],"mappings":";AA6BA,SAASA,GAAG,EAAEC,SAAS,QAAQ,KAAI;AACnC,SAASC,YAAY,QAAQ,eAAc;AAC3C,SAASC,SAAS,QAAQ,YAAW;;;;;;;IAErC,MAAMC,IAAI,GAAGF,YAAY,CAAC;IAC1B,MAAMG,MAAM,GAAGF,SAAS,CAAC;IAEzB,MAAMG,OAAO,GAAGN,GAAG,CAACO,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAG,MAAM,CAAC;IACtD,MAAMC,YAAY,GAAGV,GAAG,CAAC,EAAE;IAC3B,MAAMW,YAAY,GAAGX,GAAG,CAAC,CAAC;IAC1B,MAAMY,SAAS,GAAGZ,GAAG,CAAC,EAAE;IAExBC,SAAS,CAAC,MAAM;MACd;MACAS,YAAY,CAACG,KAAK,GAAG,CAAC,GAAGT,IAAI,CAACU,KAAK;MACnCH,YAAY,CAACE,KAAK,GAAGT,IAAI,CAACW,UAAS;MACnCX,IAAI,CAACY,SAAS,CAAC;;MAEf;MACA;MACA;MACA;;MAEA;MACA,MAAMC,QAAQ,GAAGC,WAAW,CAAC,MAAM;QACjCN,SAAS,CAACC,KAAK,EAAC;QAChB,IAAID,SAAS,CAACC,KAAK,IAAI,CAAC,EAAE;UACxBM,aAAa,CAACF,QAAQ;UACtBZ,MAAM,CAACe,IAAI,CAAC,GAAG;QACjB;MACF,CAAC,EAAE,IAAI;IACT,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}