{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { ref, onMounted, onBeforeUnmount } from 'vue';\nimport { useCartStore } from '@/stores/cart';\nimport { useRouter } from 'vue-router';\nimport CartSummary from '@/components/CartSummary.vue';\nexport default {\n  __name: 'FoodView',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const cart = useCartStore();\n    const router = useRouter();\n    const selectedCategory = ref(null);\n    const showMobileCart = ref(false);\n    function toggleMobileCart() {\n      showMobileCart.value = !showMobileCart.value;\n    }\n    function addToCart(item) {\n      cart.addItem({\n        ...item,\n        category: 'food'\n      });\n    }\n    function goToConfirmation() {\n      if (cart.items.length > 0) router.push('/cart');\n    }\n    function goToHome() {\n      router.push('/home');\n    }\n    function selectCategory(category) {\n      selectedCategory.value = category;\n    }\n\n    /* SCROLL INTELLIGENT */\n    const leftCol = ref(null);\n    const rightCol = ref(null);\n    const cartCol = ref(null);\n    const columnsContainer = ref(null);\n    function onWheel(e) {\n      const el = document.elementFromPoint(e.clientX, e.clientY);\n      const cols = [leftCol.value, rightCol.value, cartCol.value];\n      for (const col of cols) {\n        if (col && col.contains(el)) {\n          col.scrollTop += e.deltaY;\n          e.preventDefault();\n          return;\n        }\n      }\n    }\n    onMounted(() => {\n      columnsContainer.value?.addEventListener('wheel', onWheel, {\n        passive: false\n      });\n    });\n    onBeforeUnmount(() => {\n      columnsContainer.value?.removeEventListener('wheel', onWheel);\n    });\n\n    /* DONN√âES */\n    const categories = [{\n      name: 'plats',\n      label: 'Plat',\n      image: '/images/categorie_plat.jpg',\n      items: [{\n        name: 'Thi√©bou dieune',\n        price: 16,\n        image: '/images/tieboudiene.jpg'\n      }, {\n        name: 'Yassa guinaar',\n        price: 16,\n        image: '/images/yassa.jpg'\n      }]\n    }, {\n      name: 'boissons',\n      label: 'Jus',\n      image: '/images/jus_naturel.jpg',\n      items: [{\n        name: 'Bissap',\n        price: 6,\n        image: '/images/jus_bissap.jpg'\n      }, {\n        name: 'Mangue',\n        price: 6,\n        image: '/images/jus_de_mangue.jpg'\n      }]\n    }];\n    const __returned__ = {\n      cart,\n      router,\n      selectedCategory,\n      showMobileCart,\n      toggleMobileCart,\n      addToCart,\n      goToConfirmation,\n      goToHome,\n      selectCategory,\n      leftCol,\n      rightCol,\n      cartCol,\n      columnsContainer,\n      onWheel,\n      categories,\n      ref,\n      onMounted,\n      onBeforeUnmount,\n      get useCartStore() {\n        return useCartStore;\n      },\n      get useRouter() {\n        return useRouter;\n      },\n      CartSummary\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","onMounted","onBeforeUnmount","useCartStore","useRouter","CartSummary","cart","router","selectedCategory","showMobileCart","toggleMobileCart","value","addToCart","item","addItem","category","goToConfirmation","items","length","push","goToHome","selectCategory","leftCol","rightCol","cartCol","columnsContainer","onWheel","e","el","document","elementFromPoint","clientX","clientY","cols","col","contains","scrollTop","deltaY","preventDefault","addEventListener","passive","removeEventListener","categories","name","label","image","price"],"sources":["/Users/macbook/IdeaProjects/borne-commande-app/frontend/mon_projet_perso/src/views/FoodView.vue"],"sourcesContent":["<template>\n  <div class=\"food-page\">\n    <!-- TITRE -->\n    <h1 class=\"title\">\n      {{ selectedCategory?.label === 'Jus'\n        ? 'ü•§ Choisissez votre Jus'\n        : `üçΩÔ∏è Choisissez votre ${selectedCategory?.label?.toLowerCase() || 'cat√©gorie'}`\n      }}\n    </h1>\n\n    <!-- CONTENEUR PRINCIPAL -->\n    <div ref=\"columnsContainer\" class=\"layout\">\n\n      <!-- COLONNE CAT√âGORIES -->\n      <aside ref=\"leftCol\" class=\"categories-col\">\n        <div class=\"categories-list\">\n          <div\n            v-for=\"category in categories\"\n            :key=\"category.name\"\n            @click=\"selectCategory(category)\"\n            :class=\"['category-item', { selected: selectedCategory?.name === category.name }]\"\n          >\n            <img :src=\"category.image\" :alt=\"category.label\" />\n            <p>{{ category.label }}</p>\n          </div>\n        </div>\n      </aside>\n\n      <!-- COLONNE PRODUITS -->\n      <main ref=\"rightCol\" class=\"products-col\">\n        <div v-if=\"selectedCategory\">\n          <div class=\"grid\">\n            <article\n              v-for=\"item in selectedCategory.items\"\n              :key=\"item.name\"\n              class=\"product-card\"\n            >\n              <img\n                @click=\"addToCart(item)\"\n                :src=\"item.image\"\n                :alt=\"item.name\"\n              />\n              <p class=\"product-name\">\n                {{ item.name }} : {{ item.price.toFixed(2) }} ‚Ç¨\n                <span v-if=\"item.composant\">({{ item.composant }})</span>\n              </p>\n            </article>\n          </div>\n        </div>\n\n        <div v-else class=\"no-selection\">\n          üß≠ Cliquez sur une cat√©gorie pour composer votre menu\n        </div>\n      </main>\n\n      <!-- PANIER LAT√âRAL (DESKTOP / TABLETTE) -->\n      <aside ref=\"cartCol\" class=\"cart-right\">\n        <button class=\"back-btn\" @click=\"goToHome\">‚¨Ö Retour</button>\n        <CartSummary />\n        <button\n          class=\"pay-btn\"\n          :disabled=\"cart.items.length === 0\"\n          @click=\"goToConfirmation\"\n        >\n          ‚úÖ Passer la commande\n        </button>\n      </aside>\n    </div>\n\n    <!-- BOUTON PANIER FLOTTANT (MOBILE) -->\n    <div class=\"cart-floating\" v-if=\"cart.items.length > 0\">\n      <button class=\"cart-floating-content\" @click=\"toggleMobileCart\">\n        <span>üõí {{ cart.items.length }}</span>\n        <span>{{ cart.totalPrice.toFixed(2) }} ‚Ç¨</span>\n        <span>‚ñ≤</span>\n      </button>\n    </div>\n\n    <!-- MENU PANIER D√âROULANT (MOBILE) -->\n    <div class=\"mobile-cart-drawer\" :class=\"{ open: showMobileCart }\">\n      <div class=\"drawer-header\">\n        <h3>üõí Votre panier</h3>\n        <button class=\"close-btn\" @click=\"toggleMobileCart\">‚úï</button>\n      </div>\n\n      <CartSummary />\n\n      <button\n        class=\"pay-btn\"\n        :disabled=\"cart.items.length === 0\"\n        @click=\"goToConfirmation\"\n      >\n        ‚úÖ Passer la commande\n      </button>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted, onBeforeUnmount } from 'vue'\nimport { useCartStore } from '@/stores/cart'\nimport { useRouter } from 'vue-router'\nimport CartSummary from '@/components/CartSummary.vue'\n\nconst cart = useCartStore()\nconst router = useRouter()\n\nconst selectedCategory = ref(null)\nconst showMobileCart = ref(false)\n\nfunction toggleMobileCart() {\n  showMobileCart.value = !showMobileCart.value\n}\n\nfunction addToCart(item) {\n  cart.addItem({ ...item, category: 'food' })\n}\n\nfunction goToConfirmation() {\n  if (cart.items.length > 0) router.push('/cart')\n}\n\nfunction goToHome() {\n  router.push('/home')\n}\n\nfunction selectCategory(category) {\n  selectedCategory.value = category\n}\n\n/* SCROLL INTELLIGENT */\nconst leftCol = ref(null)\nconst rightCol = ref(null)\nconst cartCol = ref(null)\nconst columnsContainer = ref(null)\n\nfunction onWheel(e) {\n  const el = document.elementFromPoint(e.clientX, e.clientY)\n  const cols = [leftCol.value, rightCol.value, cartCol.value]\n  for (const col of cols) {\n    if (col && col.contains(el)) {\n      col.scrollTop += e.deltaY\n      e.preventDefault()\n      return\n    }\n  }\n}\n\nonMounted(() => {\n  columnsContainer.value?.addEventListener('wheel', onWheel, { passive: false })\n})\nonBeforeUnmount(() => {\n  columnsContainer.value?.removeEventListener('wheel', onWheel)\n})\n\n/* DONN√âES */\nconst categories = [\n  {\n    name: 'plats',\n    label: 'Plat',\n    image: '/images/categorie_plat.jpg',\n    items: [\n      { name: 'Thi√©bou dieune', price: 16, image: '/images/tieboudiene.jpg' },\n      { name: 'Yassa guinaar', price: 16, image: '/images/yassa.jpg' }\n    ]\n  },\n  {\n    name: 'boissons',\n    label: 'Jus',\n    image: '/images/jus_naturel.jpg',\n    items: [\n      { name: 'Bissap', price: 6, image: '/images/jus_bissap.jpg' },\n      { name: 'Mangue', price: 6, image: '/images/jus_de_mangue.jpg' }\n    ]\n  }\n]\n</script>\n\n<style scoped>\n.food-page {\n  min-height: 100vh;\n  padding: 1rem;\n  background: #f8f8f8;\n}\n\n.title {\n  text-align: center;\n  font-size: 2rem;\n  margin-bottom: 1rem;\n}\n\n.layout {\n  display: flex;\n  height: calc(100vh - 6rem);\n  gap: 1rem;\n}\n\n.categories-col {\n  width: 220px;\n  overflow-y: auto;\n}\n\n.products-col {\n  flex: 1;\n  overflow-y: auto;\n}\n\n.grid {\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  gap: 1rem;\n}\n\n.product-card {\n  background: white;\n  border-radius: 1rem;\n  padding: 0.5rem;\n  text-align: center;\n}\n\n.cart-right {\n  width: 320px;\n  position: sticky;\n  top: 1rem;\n  overflow-y: auto;\n}\n\n.back-btn,\n.pay-btn {\n  width: 100%;\n  margin-bottom: 0.5rem;\n  padding: 0.75rem;\n  border-radius: 999px;\n  border: none;\n  font-weight: bold;\n}\n\n.back-btn {\n  background: orange;\n  color: white;\n}\n\n.pay-btn {\n  background: green;\n  color: white;\n}\n\n/* MOBILE */\n@media (max-width: 768px) {\n  .cart-right {\n    display: none;\n  }\n\n  .grid {\n    grid-template-columns: repeat(2, 1fr);\n  }\n\n  .cart-floating {\n    position: fixed;\n    bottom: 1rem;\n    left: 50%;\n    transform: translateX(-50%);\n    width: 90%;\n    z-index: 2000;\n  }\n\n  .cart-floating-content {\n    background: green;\n    color: white;\n    padding: 0.75rem 1rem;\n    border-radius: 999px;\n    display: flex;\n    justify-content: space-between;\n    font-weight: bold;\n  }\n\n  .mobile-cart-drawer {\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    height: 60vh;\n    width: 100%;\n    background: white;\n    transform: translateY(100%);\n    transition: transform 0.3s ease;\n    z-index: 3000;\n    padding: 1rem;\n    box-shadow: 0 -5px 20px rgba(0,0,0,0.25);\n  }\n\n  .mobile-cart-drawer.open {\n    transform: translateY(0);\n  }\n\n  .drawer-header {\n    display: flex;\n    justify-content: space-between;\n    margin-bottom: 1rem;\n  }\n\n  .close-btn {\n    font-size: 1.5rem;\n    border: none;\n    background: none;\n  }\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}