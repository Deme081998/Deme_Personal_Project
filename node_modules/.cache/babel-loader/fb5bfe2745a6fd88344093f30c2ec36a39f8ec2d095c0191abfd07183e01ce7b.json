{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { ref, onMounted } from 'vue';\nimport { useCartStore } from '@/stores/cart';\nimport { useRouter } from 'vue-router';\nexport default {\n  __name: 'ConfirmationView',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const cart = useCartStore();\n    const router = useRouter();\n    const orderId = ref(Math.floor(Math.random() * 100000));\n    const orderedItems = ref([]);\n    const orderedTotal = ref(0);\n    const countdown = ref(10);\n    onMounted(() => {\n      // Capture des items avant suppression\n      orderedItems.value = [...cart.items];\n      orderedTotal.value = cart.totalPrice;\n      cart.clearCart();\n\n      // DÃ©compte automatique vers l'accueil\n      const interval = setInterval(() => {\n        countdown.value--;\n        if (countdown.value <= 0) {\n          clearInterval(interval);\n          router.push('/');\n        }\n      }, 1000);\n    });\n    const __returned__ = {\n      cart,\n      router,\n      orderId,\n      orderedItems,\n      orderedTotal,\n      countdown,\n      ref,\n      onMounted,\n      get useCartStore() {\n        return useCartStore;\n      },\n      get useRouter() {\n        return useRouter;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","onMounted","useCartStore","useRouter","cart","router","orderId","Math","floor","random","orderedItems","orderedTotal","countdown","value","items","totalPrice","clearCart","interval","setInterval","clearInterval","push"],"sources":["/Users/macbook/IdeaProjects/borne-commande-app/frontend/mon_projet_perso/src/views/ConfirmationView.vue"],"sourcesContent":["<template>\n  <div class=\"confirmation-page\">\n    <h1 class=\"title\">Commande confirmÃ©e ! ðŸŽ‰</h1>\n    <p class=\"subtitle\">Merci pour votre commande <strong>nÂ°{{ orderId }}</strong></p>\n\n    <div class=\"order-summary\">\n      <h2>RÃ©sumÃ© de la commande :</h2>\n      <ul>\n        <li v-for=\"(item, index) in orderedItems\" :key=\"index\">\n          {{ item.name }} â€“ {{ item.price.toFixed(2) }} â‚¬\n        </li>\n      </ul>\n      <p class=\"total\">Total : {{ orderedTotal.toFixed(2) }} â‚¬</p>\n    </div>\n\n    <p class=\"countdown\">\n      Retour Ã  lâ€™accueil dans <strong>{{ countdown }}</strong> seconde<span v-if=\"countdown > 1\">s</span>...\n    </p>\n\n    <router-link to=\"/\" class=\"home-btn\">\n      Revenir Ã  lâ€™accueil\n    </router-link>\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted } from 'vue'\nimport { useCartStore } from '@/stores/cart'\nimport { useRouter } from 'vue-router'\n\nconst cart = useCartStore()\nconst router = useRouter()\n\nconst orderId = ref(Math.floor(Math.random() * 100000))\nconst orderedItems = ref([])\nconst orderedTotal = ref(0)\nconst countdown = ref(10)\n\nonMounted(() => {\n  // Capture des items avant suppression\n  orderedItems.value = [...cart.items]\n  orderedTotal.value = cart.totalPrice\n  cart.clearCart()\n\n  // DÃ©compte automatique vers l'accueil\n  const interval = setInterval(() => {\n    countdown.value--\n    if (countdown.value <= 0) {\n      clearInterval(interval)\n      router.push('/')\n    }\n  }, 1000)\n})\n</script>\n\n<style scoped>\n.confirmation-page {\n  min-height: 100vh;\n  padding: 1rem;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  background-image: url('/images/fond.jpg');\n  background-size: cover;\n  background-position: center;\n  font-family: 'Segoe UI', sans-serif;\n  text-align: center;\n}\n\n.title {\n  font-size: 2rem;\n  margin-bottom: 0.5rem;\n}\n\n.subtitle {\n  font-size: 1.2rem;\n  margin-bottom: 1.5rem;\n  color: #333;\n}\n\n.order-summary {\n  background: rgba(255, 255, 255, 0.9);\n  padding: 1rem 1.5rem;\n  border-radius: 1rem;\n  width: 100%;\n  max-width: 500px;\n  margin-bottom: 1.5rem;\n  text-align: left;\n}\n\n.order-summary h2 {\n  font-size: 1.2rem;\n  margin-bottom: 0.5rem;\n  text-decoration: underline;\n}\n\n.order-summary ul {\n  list-style: none;\n  padding: 0;\n  margin-bottom: 0.5rem;\n}\n\n.order-summary li {\n  padding: 0.3rem 0;\n  border-bottom: 1px solid #ccc;\n}\n\n.total {\n  font-weight: bold;\n  font-size: 1.1rem;\n  margin-top: 0.5rem;\n}\n\n.countdown {\n  margin-bottom: 1rem;\n  font-size: 1rem;\n  color: #555;\n}\n\n.home-btn {\n  background-color: #42b983;\n  color: white;\n  border-radius: 50px;\n  padding: 0.5rem 1.5rem;\n  font-weight: bold;\n  text-decoration: none;\n  transition: background 0.2s;\n}\n\n.home-btn:hover {\n  background-color: #369a6c;\n}\n\n/* MOBILE */\n@media (max-width: 768px) {\n  .order-summary {\n    max-width: 90%;\n    padding: 1rem;\n  }\n}\n</style>\n"],"mappings":";AA0BA,SAASA,GAAG,EAAEC,SAAS,QAAQ,KAAI;AACnC,SAASC,YAAY,QAAQ,eAAc;AAC3C,SAASC,SAAS,QAAQ,YAAW;;;;;;;IAErC,MAAMC,IAAI,GAAGF,YAAY,CAAC;IAC1B,MAAMG,MAAM,GAAGF,SAAS,CAAC;IAEzB,MAAMG,OAAO,GAAGN,GAAG,CAACO,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAG,MAAM,CAAC;IACtD,MAAMC,YAAY,GAAGV,GAAG,CAAC,EAAE;IAC3B,MAAMW,YAAY,GAAGX,GAAG,CAAC,CAAC;IAC1B,MAAMY,SAAS,GAAGZ,GAAG,CAAC,EAAE;IAExBC,SAAS,CAAC,MAAM;MACd;MACAS,YAAY,CAACG,KAAK,GAAG,CAAC,GAAGT,IAAI,CAACU,KAAK;MACnCH,YAAY,CAACE,KAAK,GAAGT,IAAI,CAACW,UAAS;MACnCX,IAAI,CAACY,SAAS,CAAC;;MAEf;MACA,MAAMC,QAAQ,GAAGC,WAAW,CAAC,MAAM;QACjCN,SAAS,CAACC,KAAK,EAAC;QAChB,IAAID,SAAS,CAACC,KAAK,IAAI,CAAC,EAAE;UACxBM,aAAa,CAACF,QAAQ;UACtBZ,MAAM,CAACe,IAAI,CAAC,GAAG;QACjB;MACF,CAAC,EAAE,IAAI;IACT,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}